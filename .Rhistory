#| warning: false
library(tidyverse)
library(readxl)
library(writexl)
library(sf)
library(DT)
library(clock)
library(ggthemes)
library(showtext)
library(RColorBrewer)
library(knitr)
planilha <- read_excel("W:/DGC_ACERVO_CGEO/PROJETOS_EM_ANDAMENTO/Cemaden/BOLSISTAS/Joaquim/AtlasNacional/Alertas/AlertasCemaden2012-2021.xlsx")
#| warning: false
Tot_Mun <- planilha %>%
mutate(Mun = str_to_upper(`Município`)) %>%
group_by(`Código IBGE`, Mun, `Evento`) %>%
summarise(Tot_Event = n()) %>%
mutate(Evento = ifelse(Evento == "Geo/Hidro", "Hidrogeo", Evento)) %>%
pivot_wider(names_from = Evento, values_from = Tot_Event, values_fill = 0) %>%
mutate(tot_geo = Geo + Hidrogeo, tot_hidro = Hidro + Hidrogeo) %>%
select(`Código IBGE`, Mun, tot_geo, tot_hidro)
kable(head(Tot_Mun))
#| warning: false
library(tidyverse)
library(readxl)
library(writexl)
library(sf)
library(DT)
library(clock)
library(ggthemes)
library(showtext)
library(RColorBrewer)
library(knitr)
planilha <- read_excel("W:/DGC_ACERVO_CGEO/PROJETOS_EM_ANDAMENTO/Cemaden/BOLSISTAS/Joaquim/AtlasNacional/Alertas/AlertasCemaden2012-2021.xlsx")
#| warning: false
Tot_Mun <- planilha %>%
mutate(Mun = str_to_upper(`Município`)) %>%
group_by(`Código IBGE`, Mun, `Evento`) %>%
summarise(Tot_Event = n()) %>%
mutate(Evento = ifelse(Evento == "Geo/Hidro", "Hidrogeo", Evento)) %>%
pivot_wider(names_from = Evento, values_from = Tot_Event, values_fill = 0) %>%
mutate(tot_geo = Geo + Hidrogeo, tot_hidro = Hidro + Hidrogeo) %>%
select(`Código IBGE`, Mun, tot_geo, tot_hidro)
kable(head(Tot_Mun))
#| warning: false
library(tidyverse)
library(readxl)
library(writexl)
library(sf)
library(DT)
library(clock)
library(ggthemes)
library(showtext)
library(RColorBrewer)
library(knitr)
planilha <- read_excel("W:/DGC_ACERVO_CGEO/PROJETOS_EM_ANDAMENTO/Cemaden/BOLSISTAS/Joaquim/AtlasNacional/Alertas/AlertasCemaden2012-2021.xlsx")
#| warning: false
Tot_Mun <- planilha %>%
mutate(Mun = str_to_upper(`Município`)) %>%
group_by(`Código IBGE`, Mun, `Evento`) %>%
summarise(Tot_Event = n()) %>%
mutate(Evento = ifelse(Evento == "Geo/Hidro", "Hidrogeo", Evento)) %>%
pivot_wider(names_from = Evento, values_from = Tot_Event, values_fill = 0) %>%
mutate(tot_geo = Geo + Hidrogeo, tot_hidro = Hidro + Hidrogeo) %>%
select(`Código IBGE`, Mun, tot_geo, tot_hidro)
kable(head(Tot_Mun))
#| warning: false
datatable(Tot_Mun)
#| cache: false
ojs_define(totais = Tot_Mun)
#| warning: false
library(tidyverse)
library(readxl)
library(writexl)
library(sf)
library(DT)
library(clock)
library(ggthemes)
library(showtext)
library(RColorBrewer)
library(knitr)
planilha <- read_excel("W:/DGC_ACERVO_CGEO/PROJETOS_EM_ANDAMENTO/Cemaden/BOLSISTAS/Joaquim/AtlasNacional/Alertas/AlertasCemaden2012-2021.xlsx")
#| warning: false
Tot_Mun <- planilha %>%
mutate(Mun = str_to_upper(`Município`)) %>%
group_by(`Código IBGE`, Mun, `Evento`) %>%
summarise(Tot_Event = n()) %>%
mutate(Evento = ifelse(Evento == "Geo/Hidro", "Hidrogeo", Evento)) %>%
pivot_wider(names_from = Evento, values_from = Tot_Event, values_fill = 0) %>%
mutate(tot_geo = Geo + Hidrogeo, tot_hidro = Hidro + Hidrogeo) %>%
select(`Código IBGE`, Mun, tot_geo, tot_hidro)
kable(head(Tot_Mun))
#| warning: false
datatable(Tot_Mun)
#| cache: false
ojs_define(totais = Tot_Mun)
install.packages("quarto")
install.packages("ISLR2")
install.packages("ISLR2")
source("~/_GIT/scripts/R/EstPop_var_gd1km.R", echo=TRUE)
for (i in listaInd100) {
# filtra pra cada conjunto referente à grade de 100 km
# tabela <- TabelaCalcFinal %>%
#   filter(ind100 == i)
# o mesmo usando o data.table
tabela <- TabelaCalcFinal[ind100 == i]
# salva o arquivo com o codigo equivalente da grade de 100 km no nome
# write_parquet(tabela, sink = str_c("D:/Users/joaquim.cemaden/Documents/_GIT/grade_data/data/1KM/", i, "_tab.parquet"), compression = "zstd", compression_level = 19)
# pra testar
write_parquet(tabela, sink = str_c("C:/ACELERADOR/EstPop/grade_data/data/1KM/", i, "_tab.parquet"), compression = "zstd", compression_level = 19)
}
rm(list = ls())
source("~/_GIT/scripts/R/EstPop_var_gd1km.R", echo=TRUE)
rm(list = ls())
source("~/_GIT/scripts/R/EstPop_var_gd1km.R", echo=TRUE)
